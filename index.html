<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PeculiarPapers.com</title>

    <!-- Bootstrap 4 CDN -->
    <link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <style>
/* http://meyerweb.com/eric/tools/css/reset/ 
   v2.0 | 20110126
   License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}
        body {
            font-family: 'Arial', sans-serif;
        }
        .logo {
            font-weight: bold;
        }
        .card-footer {
            display: flex;
            justify-content: space-between;
        }

	#adobe-dc-view{
		height:100vh;
	}
    </style>
</head>

<body>

    <nav class="navbar navbar-light bg-light">
        <a class="navbar-brand logo" href="#">
            PeculiarPapers.com
        </a>
    </nav>

    <div class="container mt-5">
        <!-- Intro Section -->
        <div class="intro-section mb-5">
            <img src="path_to_image.jpg" alt="Intro Image" class="img-fluid mb-3">
            <p>Short introduction about the paper...</p>
        </div>

        <!-- PDF Viewer Section -->
<div id="adobe-dc-view"></div>
<script src="https://acrobatservices.adobe.com/view-sdk/viewer.js"></script>

<script type="text/javascript">
    // Function to get URL parameters
    function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
    }

    document.addEventListener("adobe_dc_view_sdk.ready", function(){ 
        // Get the 'pdf' parameter from the URL, if not provided, fallback to '2BeOrNot'
        var pdfName = getQueryParam('pdf') || '2BeOrNot';

        var adobeDCView = new AdobeDC.View({clientId: "6c299b49572c42c6866c9d3ba61fb0f7", divId: "adobe-dc-view"});
        adobeDCView.previewFile({
            content:{location: {url: `/interesting/${pdfName}.pdf`}},
            metaData:{fileName: `${pdfName}.pdf`}
        }, {defaultViewMode: "FIT_PAGE", showAnnotationTools: false, showDownloadPDF: false, 
            showPrintPDF: false});
    });
</script>

        <!-- Footer Section -->
        <div class="footer-section">
            <h5>Other Posts:</h5>
            <div class="card-deck" id="randomCardDeck"> <!-- Added id attribute -->
                <!-- Cards will be dynamically generated here -->
            </div>
            <script>
                function getRandomCards(cardArray, numCards) {
                    const shuffledArray = cardArray.slice().sort(() => Math.random() - 0.5);
                    return shuffledArray.slice(0, numCards);
                }
                const posts = [
    {name:'1984_breakfast', brief:'Orwellian 1984 Breakfast'},
    {name:'2BeOrNot',brief:'2 Be Or Not'},
    {name:'AntibacterialCrocodileTears',brief:'Cap\'n Hooks Antibacterial Crocodile Tears'},
    {name:'CherryTreeChopping',brief:'Washingtons Cherry Tree Chopping'},
    {name:'CinderellasGlassSlipperIndustry',brief:'Cinderellas Glass Slipper Industry'},
    {name:'MobyDick',brief:'Moby Dick'},
    {name:'SnowWhite',brief:'Snow White Saves the Forest'},
    {name:'gotham_bats',brief:'Gotham City Bat Crime'},
];

function renderFooterPosts() {
    const footerContainer = document.querySelector('.card-deck');
console.log('renderingFooterPosts')
    // Clear any existing content
    footerContainer.innerHTML = '';

    posts.forEach(post => {
        console.log('eachpost',post)
        const card = document.createElement('div');
        card.className = 'card';

        const cardFooter = document.createElement('div');
        cardFooter.className = 'card-footer';

        const postLink = document.createElement('a');
        postLink.href = '//peculiarpapers.com/index.html?pdf='+post.name+'&fromfooter';
        postLink.innerText = post.brief;

        cardFooter.appendChild(postLink);
        card.appendChild(cardFooter);
        footerContainer.appendChild(card);
    });
}

// document.addEventListener('DOMContentLoaded', renderFooterPosts);

            </script>
            <!-- <script src="footerPosts.js"></script> -->
            <script>
               
                // Card data (replace with your actual data)
                // const posts = [
                //     { name: "post1", brief: "Brief description of Post 1" },
                //     { name: "post2", brief: "Brief description of Post 2" },
                //     { name: "post3", brief: "Brief description of Post 3" },
                //     // Add more posts as needed
                // ];

                // Populate random cards on page load
                document.addEventListener("DOMContentLoaded", function() {
                    const cardDeck = document.getElementById("randomCardDeck");
                    const randomCards = getRandomCards(posts, 3);

                    randomCards.forEach(card => {
                        const cardElement = document.createElement("div");
                        cardElement.className = "card";
                        cardElement.innerHTML = `
                            <div class="card-footer">
                                <a href="/interesting/${card.name}.pdf">${card.brief}</a>
                            </div>
                        `;
                        cardDeck.appendChild(cardElement);
                    });
                });
            </script>
        </div>
    </div>

    <!-- Bootstrap 4 JS, Popper.js, and jQuery -->
    <script src="//code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="//stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="//peculiarpapers.com/footerPosts.js?v=3"></script>
</body>
</html>
