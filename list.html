<!DOCTYPE html>
<html lang="en">
<!-- this is for push -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List of Posts - PeculiarPapers.com</title>

    <!-- Bootstrap 4 CDN -->
    <link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>

    <nav class="navbar navbar-light bg-light">
        <a class="navbar-brand" href="#">
            PeculiarPapers.com
        </a>
    </nav>

    <div class="container mt-5">
        <h2>List of Posts</h2>
        <div class="input-group mb-3">
            <input type="text" id="searchInput" class="form-control" placeholder="Search by Post Name">
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" id="searchButton">Search</button>
            </div>
        </div>
        <ul class="list-group" id="postList">
            <!-- Posts will be dynamically generated here -->
        </ul>
        <script src="footerPosts.js"></script>
        <script>
            function renderPosts(postsArray) {
                const postList = document.getElementById("postList");
                postList.innerHTML = ""; // Clear previous results

                postsArray.forEach(post => {
                    const listItem = document.createElement("li");
                    listItem.className = "list-group-item";
                    listItem.innerHTML = `<a href="//peculiarpapers.com/index.html?pdf=${post.name}&fromlist">${post.brief}</a>`;
                    postList.appendChild(listItem);
                });
            }

            function searchPosts(searchTerm) {
                const filteredPosts = posts.filter(post =>
                    post.name.toLowerCase().includes(searchTerm.toLowerCase())
                );
                renderPosts(filteredPosts);
            }

            // Load all posts when the DOM is ready
            document.addEventListener("DOMContentLoaded", () => {
                renderPosts(posts);

                const searchButton = document.getElementById("searchButton");
                const searchInput = document.getElementById("searchInput");

                searchButton.addEventListener("click", () => {
                    const searchTerm = searchInput.value.trim();
                    searchPosts(searchTerm);
                });

                searchInput.addEventListener("keyup", event => {
                    if (event.key === "Enter") {
                        const searchTerm = searchInput.value.trim();
                        searchPosts(searchTerm);
                    }
                });
            });
        </script>
    </div>

    <!-- Bootstrap 4 JS, Popper.js, and jQuery -->
    <script src="//code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="//stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>